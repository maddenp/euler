/* jshint node: true */
/* jshint esversion: 6 */

"use strict";

const pm = require('./pm');

const f = (a, b, c, d, o) => {
  [
    a+b+c+d,
    (a+b)+c+d,
    a+(b+c)+d,
    a+b+(c+d),
    (a+b)+(c+d),
    (a+b+c)+d,
    ((a+b)+c)+d,
    (a+(b+c))+d,
    a+(b+c+d),
    a+((b+c)+d),
    a+(b+(c+d)),
    a+b+c-d,
    (a+b)+c-d,
    a+(b+c)-d,
    a+b+(c-d),
    (a+b)+(c-d),
    (a+b+c)-d,
    ((a+b)+c)-d,
    (a+(b+c))-d,
    a+(b+c-d),
    a+((b+c)-d),
    a+(b+(c-d)),
    a+b+c*d,
    (a+b)+c*d,
    a+(b+c)*d,
    a+b+(c*d),
    (a+b)+(c*d),
    (a+b+c)*d,
    ((a+b)+c)*d,
    (a+(b+c))*d,
    a+(b+c*d),
    a+((b+c)*d),
    a+(b+(c*d)),
    a+b+c/d,
    (a+b)+c/d,
    a+(b+c)/d,
    a+b+(c/d),
    (a+b)+(c/d),
    (a+b+c)/d,
    ((a+b)+c)/d,
    (a+(b+c))/d,
    a+(b+c/d),
    a+((b+c)/d),
    a+(b+(c/d)),
    a+b-c+d,
    (a+b)-c+d,
    a+(b-c)+d,
    a+b-(c+d),
    (a+b)-(c+d),
    (a+b-c)+d,
    ((a+b)-c)+d,
    (a+(b-c))+d,
    a+(b-c+d),
    a+((b-c)+d),
    a+(b-(c+d)),
    a+b-c-d,
    (a+b)-c-d,
    a+(b-c)-d,
    a+b-(c-d),
    (a+b)-(c-d),
    (a+b-c)-d,
    ((a+b)-c)-d,
    (a+(b-c))-d,
    a+(b-c-d),
    a+((b-c)-d),
    a+(b-(c-d)),
    a+b-c*d,
    (a+b)-c*d,
    a+(b-c)*d,
    a+b-(c*d),
    (a+b)-(c*d),
    (a+b-c)*d,
    ((a+b)-c)*d,
    (a+(b-c))*d,
    a+(b-c*d),
    a+((b-c)*d),
    a+(b-(c*d)),
    a+b-c/d,
    (a+b)-c/d,
    a+(b-c)/d,
    a+b-(c/d),
    (a+b)-(c/d),
    (a+b-c)/d,
    ((a+b)-c)/d,
    (a+(b-c))/d,
    a+(b-c/d),
    a+((b-c)/d),
    a+(b-(c/d)),
    a+b*c+d,
    (a+b)*c+d,
    a+(b*c)+d,
    a+b*(c+d),
    (a+b)*(c+d),
    (a+b*c)+d,
    ((a+b)*c)+d,
    (a+(b*c))+d,
    a+(b*c+d),
    a+((b*c)+d),
    a+(b*(c+d)),
    a+b*c-d,
    (a+b)*c-d,
    a+(b*c)-d,
    a+b*(c-d),
    (a+b)*(c-d),
    (a+b*c)-d,
    ((a+b)*c)-d,
    (a+(b*c))-d,
    a+(b*c-d),
    a+((b*c)-d),
    a+(b*(c-d)),
    a+b*c*d,
    (a+b)*c*d,
    a+(b*c)*d,
    a+b*(c*d),
    (a+b)*(c*d),
    (a+b*c)*d,
    ((a+b)*c)*d,
    (a+(b*c))*d,
    a+(b*c*d),
    a+((b*c)*d),
    a+(b*(c*d)),
    a+b*c/d,
    (a+b)*c/d,
    a+(b*c)/d,
    a+b*(c/d),
    (a+b)*(c/d),
    (a+b*c)/d,
    ((a+b)*c)/d,
    (a+(b*c))/d,
    a+(b*c/d),
    a+((b*c)/d),
    a+(b*(c/d)),
    a+b/c+d,
    (a+b)/c+d,
    a+(b/c)+d,
    a+b/(c+d),
    (a+b)/(c+d),
    (a+b/c)+d,
    ((a+b)/c)+d,
    (a+(b/c))+d,
    a+(b/c+d),
    a+((b/c)+d),
    a+(b/(c+d)),
    a+b/c-d,
    (a+b)/c-d,
    a+(b/c)-d,
    a+b/(c-d),
    (a+b)/(c-d),
    (a+b/c)-d,
    ((a+b)/c)-d,
    (a+(b/c))-d,
    a+(b/c-d),
    a+((b/c)-d),
    a+(b/(c-d)),
    a+b/c*d,
    (a+b)/c*d,
    a+(b/c)*d,
    a+b/(c*d),
    (a+b)/(c*d),
    (a+b/c)*d,
    ((a+b)/c)*d,
    (a+(b/c))*d,
    a+(b/c*d),
    a+((b/c)*d),
    a+(b/(c*d)),
    a+b/c/d,
    (a+b)/c/d,
    a+(b/c)/d,
    a+b/(c/d),
    (a+b)/(c/d),
    (a+b/c)/d,
    ((a+b)/c)/d,
    (a+(b/c))/d,
    a+(b/c/d),
    a+((b/c)/d),
    a+(b/(c/d)),
    a-b+c+d,
    (a-b)+c+d,
    a-(b+c)+d,
    a-b+(c+d),
    (a-b)+(c+d),
    (a-b+c)+d,
    ((a-b)+c)+d,
    (a-(b+c))+d,
    a-(b+c+d),
    a-((b+c)+d),
    a-(b+(c+d)),
    a-b+c-d,
    (a-b)+c-d,
    a-(b+c)-d,
    a-b+(c-d),
    (a-b)+(c-d),
    (a-b+c)-d,
    ((a-b)+c)-d,
    (a-(b+c))-d,
    a-(b+c-d),
    a-((b+c)-d),
    a-(b+(c-d)),
    a-b+c*d,
    (a-b)+c*d,
    a-(b+c)*d,
    a-b+(c*d),
    (a-b)+(c*d),
    (a-b+c)*d,
    ((a-b)+c)*d,
    (a-(b+c))*d,
    a-(b+c*d),
    a-((b+c)*d),
    a-(b+(c*d)),
    a-b+c/d,
    (a-b)+c/d,
    a-(b+c)/d,
    a-b+(c/d),
    (a-b)+(c/d),
    (a-b+c)/d,
    ((a-b)+c)/d,
    (a-(b+c))/d,
    a-(b+c/d),
    a-((b+c)/d),
    a-(b+(c/d)),
    a-b-c+d,
    (a-b)-c+d,
    a-(b-c)+d,
    a-b-(c+d),
    (a-b)-(c+d),
    (a-b-c)+d,
    ((a-b)-c)+d,
    (a-(b-c))+d,
    a-(b-c+d),
    a-((b-c)+d),
    a-(b-(c+d)),
    a-b-c-d,
    (a-b)-c-d,
    a-(b-c)-d,
    a-b-(c-d),
    (a-b)-(c-d),
    (a-b-c)-d,
    ((a-b)-c)-d,
    (a-(b-c))-d,
    a-(b-c-d),
    a-((b-c)-d),
    a-(b-(c-d)),
    a-b-c*d,
    (a-b)-c*d,
    a-(b-c)*d,
    a-b-(c*d),
    (a-b)-(c*d),
    (a-b-c)*d,
    ((a-b)-c)*d,
    (a-(b-c))*d,
    a-(b-c*d),
    a-((b-c)*d),
    a-(b-(c*d)),
    a-b-c/d,
    (a-b)-c/d,
    a-(b-c)/d,
    a-b-(c/d),
    (a-b)-(c/d),
    (a-b-c)/d,
    ((a-b)-c)/d,
    (a-(b-c))/d,
    a-(b-c/d),
    a-((b-c)/d),
    a-(b-(c/d)),
    a-b*c+d,
    (a-b)*c+d,
    a-(b*c)+d,
    a-b*(c+d),
    (a-b)*(c+d),
    (a-b*c)+d,
    ((a-b)*c)+d,
    (a-(b*c))+d,
    a-(b*c+d),
    a-((b*c)+d),
    a-(b*(c+d)),
    a-b*c-d,
    (a-b)*c-d,
    a-(b*c)-d,
    a-b*(c-d),
    (a-b)*(c-d),
    (a-b*c)-d,
    ((a-b)*c)-d,
    (a-(b*c))-d,
    a-(b*c-d),
    a-((b*c)-d),
    a-(b*(c-d)),
    a-b*c*d,
    (a-b)*c*d,
    a-(b*c)*d,
    a-b*(c*d),
    (a-b)*(c*d),
    (a-b*c)*d,
    ((a-b)*c)*d,
    (a-(b*c))*d,
    a-(b*c*d),
    a-((b*c)*d),
    a-(b*(c*d)),
    a-b*c/d,
    (a-b)*c/d,
    a-(b*c)/d,
    a-b*(c/d),
    (a-b)*(c/d),
    (a-b*c)/d,
    ((a-b)*c)/d,
    (a-(b*c))/d,
    a-(b*c/d),
    a-((b*c)/d),
    a-(b*(c/d)),
    a-b/c+d,
    (a-b)/c+d,
    a-(b/c)+d,
    a-b/(c+d),
    (a-b)/(c+d),
    (a-b/c)+d,
    ((a-b)/c)+d,
    (a-(b/c))+d,
    a-(b/c+d),
    a-((b/c)+d),
    a-(b/(c+d)),
    a-b/c-d,
    (a-b)/c-d,
    a-(b/c)-d,
    a-b/(c-d),
    (a-b)/(c-d),
    (a-b/c)-d,
    ((a-b)/c)-d,
    (a-(b/c))-d,
    a-(b/c-d),
    a-((b/c)-d),
    a-(b/(c-d)),
    a-b/c*d,
    (a-b)/c*d,
    a-(b/c)*d,
    a-b/(c*d),
    (a-b)/(c*d),
    (a-b/c)*d,
    ((a-b)/c)*d,
    (a-(b/c))*d,
    a-(b/c*d),
    a-((b/c)*d),
    a-(b/(c*d)),
    a-b/c/d,
    (a-b)/c/d,
    a-(b/c)/d,
    a-b/(c/d),
    (a-b)/(c/d),
    (a-b/c)/d,
    ((a-b)/c)/d,
    (a-(b/c))/d,
    a-(b/c/d),
    a-((b/c)/d),
    a-(b/(c/d)),
    a*b+c+d,
    (a*b)+c+d,
    a*(b+c)+d,
    a*b+(c+d),
    (a*b)+(c+d),
    (a*b+c)+d,
    ((a*b)+c)+d,
    (a*(b+c))+d,
    a*(b+c+d),
    a*((b+c)+d),
    a*(b+(c+d)),
    a*b+c-d,
    (a*b)+c-d,
    a*(b+c)-d,
    a*b+(c-d),
    (a*b)+(c-d),
    (a*b+c)-d,
    ((a*b)+c)-d,
    (a*(b+c))-d,
    a*(b+c-d),
    a*((b+c)-d),
    a*(b+(c-d)),
    a*b+c*d,
    (a*b)+c*d,
    a*(b+c)*d,
    a*b+(c*d),
    (a*b)+(c*d),
    (a*b+c)*d,
    ((a*b)+c)*d,
    (a*(b+c))*d,
    a*(b+c*d),
    a*((b+c)*d),
    a*(b+(c*d)),
    a*b+c/d,
    (a*b)+c/d,
    a*(b+c)/d,
    a*b+(c/d),
    (a*b)+(c/d),
    (a*b+c)/d,
    ((a*b)+c)/d,
    (a*(b+c))/d,
    a*(b+c/d),
    a*((b+c)/d),
    a*(b+(c/d)),
    a*b-c+d,
    (a*b)-c+d,
    a*(b-c)+d,
    a*b-(c+d),
    (a*b)-(c+d),
    (a*b-c)+d,
    ((a*b)-c)+d,
    (a*(b-c))+d,
    a*(b-c+d),
    a*((b-c)+d),
    a*(b-(c+d)),
    a*b-c-d,
    (a*b)-c-d,
    a*(b-c)-d,
    a*b-(c-d),
    (a*b)-(c-d),
    (a*b-c)-d,
    ((a*b)-c)-d,
    (a*(b-c))-d,
    a*(b-c-d),
    a*((b-c)-d),
    a*(b-(c-d)),
    a*b-c*d,
    (a*b)-c*d,
    a*(b-c)*d,
    a*b-(c*d),
    (a*b)-(c*d),
    (a*b-c)*d,
    ((a*b)-c)*d,
    (a*(b-c))*d,
    a*(b-c*d),
    a*((b-c)*d),
    a*(b-(c*d)),
    a*b-c/d,
    (a*b)-c/d,
    a*(b-c)/d,
    a*b-(c/d),
    (a*b)-(c/d),
    (a*b-c)/d,
    ((a*b)-c)/d,
    (a*(b-c))/d,
    a*(b-c/d),
    a*((b-c)/d),
    a*(b-(c/d)),
    a*b*c+d,
    (a*b)*c+d,
    a*(b*c)+d,
    a*b*(c+d),
    (a*b)*(c+d),
    (a*b*c)+d,
    ((a*b)*c)+d,
    (a*(b*c))+d,
    a*(b*c+d),
    a*((b*c)+d),
    a*(b*(c+d)),
    a*b*c-d,
    (a*b)*c-d,
    a*(b*c)-d,
    a*b*(c-d),
    (a*b)*(c-d),
    (a*b*c)-d,
    ((a*b)*c)-d,
    (a*(b*c))-d,
    a*(b*c-d),
    a*((b*c)-d),
    a*(b*(c-d)),
    a*b*c*d,
    (a*b)*c*d,
    a*(b*c)*d,
    a*b*(c*d),
    (a*b)*(c*d),
    (a*b*c)*d,
    ((a*b)*c)*d,
    (a*(b*c))*d,
    a*(b*c*d),
    a*((b*c)*d),
    a*(b*(c*d)),
    a*b*c/d,
    (a*b)*c/d,
    a*(b*c)/d,
    a*b*(c/d),
    (a*b)*(c/d),
    (a*b*c)/d,
    ((a*b)*c)/d,
    (a*(b*c))/d,
    a*(b*c/d),
    a*((b*c)/d),
    a*(b*(c/d)),
    a*b/c+d,
    (a*b)/c+d,
    a*(b/c)+d,
    a*b/(c+d),
    (a*b)/(c+d),
    (a*b/c)+d,
    ((a*b)/c)+d,
    (a*(b/c))+d,
    a*(b/c+d),
    a*((b/c)+d),
    a*(b/(c+d)),
    a*b/c-d,
    (a*b)/c-d,
    a*(b/c)-d,
    a*b/(c-d),
    (a*b)/(c-d),
    (a*b/c)-d,
    ((a*b)/c)-d,
    (a*(b/c))-d,
    a*(b/c-d),
    a*((b/c)-d),
    a*(b/(c-d)),
    a*b/c*d,
    (a*b)/c*d,
    a*(b/c)*d,
    a*b/(c*d),
    (a*b)/(c*d),
    (a*b/c)*d,
    ((a*b)/c)*d,
    (a*(b/c))*d,
    a*(b/c*d),
    a*((b/c)*d),
    a*(b/(c*d)),
    a*b/c/d,
    (a*b)/c/d,
    a*(b/c)/d,
    a*b/(c/d),
    (a*b)/(c/d),
    (a*b/c)/d,
    ((a*b)/c)/d,
    (a*(b/c))/d,
    a*(b/c/d),
    a*((b/c)/d),
    a*(b/(c/d)),
    a/b+c+d,
    (a/b)+c+d,
    a/(b+c)+d,
    a/b+(c+d),
    (a/b)+(c+d),
    (a/b+c)+d,
    ((a/b)+c)+d,
    (a/(b+c))+d,
    a/(b+c+d),
    a/((b+c)+d),
    a/(b+(c+d)),
    a/b+c-d,
    (a/b)+c-d,
    a/(b+c)-d,
    a/b+(c-d),
    (a/b)+(c-d),
    (a/b+c)-d,
    ((a/b)+c)-d,
    (a/(b+c))-d,
    a/(b+c-d),
    a/((b+c)-d),
    a/(b+(c-d)),
    a/b+c*d,
    (a/b)+c*d,
    a/(b+c)*d,
    a/b+(c*d),
    (a/b)+(c*d),
    (a/b+c)*d,
    ((a/b)+c)*d,
    (a/(b+c))*d,
    a/(b+c*d),
    a/((b+c)*d),
    a/(b+(c*d)),
    a/b+c/d,
    (a/b)+c/d,
    a/(b+c)/d,
    a/b+(c/d),
    (a/b)+(c/d),
    (a/b+c)/d,
    ((a/b)+c)/d,
    (a/(b+c))/d,
    a/(b+c/d),
    a/((b+c)/d),
    a/(b+(c/d)),
    a/b-c+d,
    (a/b)-c+d,
    a/(b-c)+d,
    a/b-(c+d),
    (a/b)-(c+d),
    (a/b-c)+d,
    ((a/b)-c)+d,
    (a/(b-c))+d,
    a/(b-c+d),
    a/((b-c)+d),
    a/(b-(c+d)),
    a/b-c-d,
    (a/b)-c-d,
    a/(b-c)-d,
    a/b-(c-d),
    (a/b)-(c-d),
    (a/b-c)-d,
    ((a/b)-c)-d,
    (a/(b-c))-d,
    a/(b-c-d),
    a/((b-c)-d),
    a/(b-(c-d)),
    a/b-c*d,
    (a/b)-c*d,
    a/(b-c)*d,
    a/b-(c*d),
    (a/b)-(c*d),
    (a/b-c)*d,
    ((a/b)-c)*d,
    (a/(b-c))*d,
    a/(b-c*d),
    a/((b-c)*d),
    a/(b-(c*d)),
    a/b-c/d,
    (a/b)-c/d,
    a/(b-c)/d,
    a/b-(c/d),
    (a/b)-(c/d),
    (a/b-c)/d,
    ((a/b)-c)/d,
    (a/(b-c))/d,
    a/(b-c/d),
    a/((b-c)/d),
    a/(b-(c/d)),
    a/b*c+d,
    (a/b)*c+d,
    a/(b*c)+d,
    a/b*(c+d),
    (a/b)*(c+d),
    (a/b*c)+d,
    ((a/b)*c)+d,
    (a/(b*c))+d,
    a/(b*c+d),
    a/((b*c)+d),
    a/(b*(c+d)),
    a/b*c-d,
    (a/b)*c-d,
    a/(b*c)-d,
    a/b*(c-d),
    (a/b)*(c-d),
    (a/b*c)-d,
    ((a/b)*c)-d,
    (a/(b*c))-d,
    a/(b*c-d),
    a/((b*c)-d),
    a/(b*(c-d)),
    a/b*c*d,
    (a/b)*c*d,
    a/(b*c)*d,
    a/b*(c*d),
    (a/b)*(c*d),
    (a/b*c)*d,
    ((a/b)*c)*d,
    (a/(b*c))*d,
    a/(b*c*d),
    a/((b*c)*d),
    a/(b*(c*d)),
    a/b*c/d,
    (a/b)*c/d,
    a/(b*c)/d,
    a/b*(c/d),
    (a/b)*(c/d),
    (a/b*c)/d,
    ((a/b)*c)/d,
    (a/(b*c))/d,
    a/(b*c/d),
    a/((b*c)/d),
    a/(b*(c/d)),
    a/b/c+d,
    (a/b)/c+d,
    a/(b/c)+d,
    a/b/(c+d),
    (a/b)/(c+d),
    (a/b/c)+d,
    ((a/b)/c)+d,
    (a/(b/c))+d,
    a/(b/c+d),
    a/((b/c)+d),
    a/(b/(c+d)),
    a/b/c-d,
    (a/b)/c-d,
    a/(b/c)-d,
    a/b/(c-d),
    (a/b)/(c-d),
    (a/b/c)-d,
    ((a/b)/c)-d,
    (a/(b/c))-d,
    a/(b/c-d),
    a/((b/c)-d),
    a/(b/(c-d)),
    a/b/c*d,
    (a/b)/c*d,
    a/(b/c)*d,
    a/b/(c*d),
    (a/b)/(c*d),
    (a/b/c)*d,
    ((a/b)/c)*d,
    (a/(b/c))*d,
    a/(b/c*d),
    a/((b/c)*d),
    a/(b/(c*d)),
    a/b/c/d,
    (a/b)/c/d,
    a/(b/c)/d,
    a/b/(c/d),
    (a/b)/(c/d),
    (a/b/c)/d,
    ((a/b)/c)/d,
    (a/(b/c))/d,
    a/(b/c/d),
    a/((b/c)/d),
    a/(b/(c/d))
  ].reduce((m, e) => {
    if (e > 0 && e === Math.floor(e)) m[e] = true;
    return m;
  }, o);
};

var max_run = 0;
var abcd;

for (var a = 0; a <= 9; a++) {
  for (var b = a + 1; b <= 9; b++) {
    for (var c = b + 1; c <= 9; c++) {
      for (var d = c + 1; d <= 9; d++) {
        var aa = [a, b, c, d];
        const o = {};
        pm.permutations_map(aa, (arr) => f(arr[0], arr[1], arr[2], arr[3], o));
        for (var i = 1; o[i]; i++);
        i--;
        if (i > max_run) {
          max_run = i;
          abcd = `${a}${b}${c}${d}`;
        }
      }
    }
  }
}

console.log(abcd);
